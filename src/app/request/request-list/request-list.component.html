<div id="component">
    <prs-head [pageTitle]="pageTitle"></prs-head>
    <table style="width: 90%">
        <th id="cnBtn" ><button id="createnew" routerLink="/request/create" [disabled]="createNewchk()">-> Create New Request <-</button></th>
        <td id="sBar"><input id="searchBar" [(ngModel)]="searchCrit" placeholder="user only search" ></td>
        </table>
        <table  *ngIf="req" class="table table-sm table-striped table-hover">
            <thead>
                <tr>
                    <th><button id="sortBtn" (click)="sortBy('id')" class="btn btn-link">Id</button></th>
                    <th><button id="sortBtn" (click)="sortBy('description')" class="btn btn-link">Description</button></th>
                    <th><button id="sortBtn" (click)="sortBy('rejectionReason')" class="btn btn-link">Rejection Reason</button></th>
                    <th><button id="sortBtn" (click)="sortBy('status')" class="btn btn-link">Status</button></th>
                    <th><button id="sortBtn" (click)="sortBy('total')" class="btn btn-link">Total</button></th>
                    <th><button id="sortBtn" (click)="sortBy('UserName')" class="btn btn-link">User</button></th>
                    <th class="text-center">Request Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let r of req | requestSearch:searchCrit | sort:sortColumn:sortAsc">
                    <td>{{r.id}}</td>
                    <td>{{r.description}}</td>
                    <td style="color: red;">{{r.rejectionReason}}</td>
                    <td>{{r.status}}</td>
                    <td>{{r.total|currency}}</td>
                    <td>{{r.user.username}}</td>
                    <td class="text-center">
                        <a id="actions" routerLink="/request/detail/{{r.id}}">Details</a> &nbsp;|&nbsp;
                        <a id="actions" routerLink="/request/change/{{r.id}}">Edit</a> &nbsp;|&nbsp;
                        <a id="actions" routerLink="/requestline/list/{{r.id}}">Lines</a>
                    </td>
                </tr>
            </tbody>
        </table>
        <br>
        <p>
            **Please note: Request List will only show the current logged in users requests. &nbsp;If logged in as a 'reviewer'
            then you will see everyone's requests.
        </p><br>

</div>



